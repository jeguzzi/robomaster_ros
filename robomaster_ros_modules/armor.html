<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Armor &mdash; Robomaster ROS 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Battery" href="battery.html" />
    <link rel="prev" title="Arm" href="arm.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Robomaster ROS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robomaster_description.html">robomaster_description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robomaster_msgs.html">robomaster_msgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robomaster_ros.html">robomaster_ros</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../robomaster_driver_node.html">Robomaster Driver Node</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../robomaster_driver_node.html#modules">Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="arm.html">Arm</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Armor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#publishers">Publishers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="battery.html">Battery</a></li>
<li class="toctree-l3"><a class="reference internal" href="blaster.html">Blaster</a></li>
<li class="toctree-l3"><a class="reference internal" href="camera.html">Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="chassis.html">Chassis</a></li>
<li class="toctree-l3"><a class="reference internal" href="gimbal.html">Gimbal</a></li>
<li class="toctree-l3"><a class="reference internal" href="gripper.html">Gripper</a></li>
<li class="toctree-l3"><a class="reference internal" href="leds.html">LEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="pwm.html">PWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="sbus.html">SBus</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensor_adapter.html">Sensor adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="servo.html">Servo</a></li>
<li class="toctree-l3"><a class="reference internal" href="speaker.html">Speaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="tof.html">Time-of-Flight distance sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="vision.html">Vision</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../robomaster_driver_node.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robomaster_driver_node.html#publishers">Publishers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Robomaster ROS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../robomaster_driver_node.html">Robomaster Driver Node</a></li>
      <li class="breadcrumb-item active">Armor</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/robomaster_ros_modules/armor.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="armor">
<h1>Armor<a class="headerlink" href="#armor" title="Link to this heading"></a></h1>
<p>The Robomaster detects two kind of hits: collision using microphones,
and infrared beams using infrared receivers.</p>
<p>The four microphones are placed behind the chassis LEDs.
They are designed to detect small balls fired by another Robomaster blaster.
Their sensitivity is configured at launch time using parameter <a class="reference internal" href="#RoboMasterROS.param.armor.sensitivity" title="RoboMasterROS.param.armor.sensitivity"><em class="xref ros ros-param">armor.sensitivity</em></a>.</p>
<p>The two infrared sensors are placed on the two sides of the gimbal.
They are designed to detect IR beams emitted by another Robomaster blaster.</p>
<p>Each time one of the sensors detect a hit,
we forward the information from <code class="xref py py-meth docutils literal notranslate"><span class="pre">robomaster.armor.Armor.sub_hit_event()</span></code>
to the topic <a class="reference internal" href="#RoboMasterROS.pub.hit" title="RoboMasterROS.pub.hit"><em class="xref ros ros-pub">hit</em></a>.</p>
<p>The ROS driver wraps the SDK module <code class="xref py py-mod docutils literal notranslate"><span class="pre">robomaster.armor</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We patched <code class="xref py py-meth docutils literal notranslate"><span class="pre">robomaster.armor.ArmorHitEvent.data_info()</span></code> to include the hit strength,
which we then pass to the message.</p>
</div>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.armor.enabled">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">armor.enabled</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">false</span></code><span class="pre">]</span><a class="headerlink" href="#RoboMasterROS.param.armor.enabled" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.armor.sensitivity">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">armor.sensitivity</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">0.5</span></code><span class="pre">]</span><span class="w"> </span><a class="reference external" href="#" title="Dynamic"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sync sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.param.armor.sensitivity" title="Link to this definition"></a></dt>
<dd><p>The relative detection threshold between 0 and 1 (in 0.1 steps) for all four collision sensors.
Lower the value to increase sensitivity.</p>
</dd></dl>

</section>
<section id="publishers">
<h2>Publishers<a class="headerlink" href="#publishers" title="Link to this heading"></a></h2>
<dl class="ros publisher">
<dt class="sig sig-object ros" id="RoboMasterROS.pub.hit">
<em class="property"><span class="pre">publisher</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">hit</span></span><span class="w"> </span><a class="reference internal" href="../robomaster_msgs.html#robomaster_msgs.msg.ArmorHit" title="robomaster_msgs.msg.ArmorHit"><em class="xref ros ros-msg"><span class="pre">robomaster_msgs/msg/ArmorHit</span></em></a><span class="w"> </span><a class="reference external" href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html#qos-policies" title="Reliability: reliable"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-check-circle sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM0 8a8 8 0 1116 0A8 8 0 010 8zm11.78-1.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"></path></svg></a><span class="w"> </span><a class="reference external" href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html#qos-policies" title="Durability: volatile"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-pin sd-text-muted" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M4.456.734a1.75 1.75 0 012.826.504l.613 1.327a3.081 3.081 0 002.084 1.707l2.454.584c1.332.317 1.8 1.972.832 2.94L11.06 10l3.72 3.72a.75.75 0 11-1.061 1.06L10 11.06l-2.204 2.205c-.968.968-2.623.5-2.94-.832l-.584-2.454a3.081 3.081 0 00-1.707-2.084l-1.327-.613a1.75 1.75 0 01-.504-2.826L4.456.734zM5.92 1.866a.25.25 0 00-.404-.072L1.794 5.516a.25.25 0 00.072.404l1.328.613A4.582 4.582 0 015.73 9.63l.584 2.454a.25.25 0 00.42.12l5.47-5.47a.25.25 0 00-.12-.42L9.63 5.73a4.581 4.581 0 01-3.098-2.537L5.92 1.866z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.pub.hit" title="Link to this definition"></a></dt>
<dd><p>Publishes a message each time a hit is detected. The message is stamped when it is published.
The message contains the sensor that detected the hit, the type of hit (collision or infrared beam),
and the raw strength in case of a collision.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="arm.html" class="btn btn-neutral float-left" title="Arm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="battery.html" class="btn btn-neutral float-right" title="Battery" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Jérôme Guzzi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>