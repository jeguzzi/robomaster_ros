<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arm &mdash; Robomaster ROS 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/design-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Armor" href="armor.html" />
    <link rel="prev" title="Robomaster Driver Node" href="../robomaster_driver_node.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Robomaster ROS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robomaster_description.html">robomaster_description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robomaster_msgs.html">robomaster_msgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robomaster_ros.html">robomaster_ros</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../robomaster_driver_node.html">Robomaster Driver Node</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../robomaster_driver_node.html#modules">Modules</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Arm</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#state-estimation">State estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#control">Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#subscriptions">Subscriptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#publishers">Publishers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#action-servers">Action Servers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="armor.html">Armor</a></li>
<li class="toctree-l3"><a class="reference internal" href="battery.html">Battery</a></li>
<li class="toctree-l3"><a class="reference internal" href="blaster.html">Blaster</a></li>
<li class="toctree-l3"><a class="reference internal" href="camera.html">Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="chassis.html">Chassis</a></li>
<li class="toctree-l3"><a class="reference internal" href="gimbal.html">Gimbal</a></li>
<li class="toctree-l3"><a class="reference internal" href="gripper.html">Gripper</a></li>
<li class="toctree-l3"><a class="reference internal" href="leds.html">LEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="pwm.html">PWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="sbus.html">SBus</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensor_adapter.html">Sensor adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="servo.html">Servo</a></li>
<li class="toctree-l3"><a class="reference internal" href="speaker.html">Speaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="tof.html">Time-of-Flight distance sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="vision.html">Vision</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../robomaster_driver_node.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robomaster_driver_node.html#publishers">Publishers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Robomaster ROS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../robomaster_driver_node.html">Robomaster Driver Node</a></li>
      <li class="breadcrumb-item active">Arm</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/robomaster_ros_modules/arm.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="arm">
<h1>Arm<a class="headerlink" href="#arm" title="Permalink to this heading"></a></h1>
<p>The robotic arm is controlled by two servo motors and features a parallel mechanism
(see <a class="reference internal" href="../robomaster_description.html#robomaster_description.model.arm.urdf.xacro" title="robomaster_description.model.arm.urdf.xacro"><em class="xref ros ros-model">arm.urdf.xacro</em></a>)
that maintain the orientation of the end effector and make the gripper to always
stay parallel to the chassis.</p>
<p>This module wraps class <a class="reference external" href="https://robomaster-dev.readthedocs.io/zh_CN/latest/python_sdk/robomaster.html#robomaster.robotic_arm.RoboticArm" title="(in RoboMaster Developer Guide v0.1.19)"><code class="docutils literal notranslate"><span class="pre">robomaster.robotic_arm.RoboticArm</span></code></a>
through which we can control the arm servo motors and get update about the end effector position.</p>
<p>The arm needs to be calibrated to work properly. Perform the short calibration procedure
in the Robomaster App that consists of fully retracting the arm: when calibrated the servos will
both report a value of 180 degrees to the SDK  and 0 degrees in the App, which corresponds to the default values
of <a class="reference internal" href="#RoboMasterROS.param.arm.left_motor.zero" title="RoboMasterROS.param.arm.left_motor.zero"><em class="xref ros ros-param">arm.left_motor.zero</em></a> and <a class="reference internal" href="#RoboMasterROS.param.arm.right_motor.zero" title="RoboMasterROS.param.arm.right_motor.zero"><em class="xref ros ros-param">arm.right_motor.zero</em></a>.</p>
<section id="state-estimation">
<h2>State estimation<a class="headerlink" href="#state-estimation" title="Permalink to this heading"></a></h2>
<p>Parameter <a class="reference internal" href="chassis.html#RoboMasterROS.param.chassis.rate" title="RoboMasterROS.param.chassis.rate"><em class="xref ros ros-param">chassis.rate</em></a> control the rate at which the arm state is gathered and republished to ROS.</p>
<ul>
<li><p>End effector position (estimated onboard) from <a class="reference external" href="https://robomaster-dev.readthedocs.io/zh_CN/latest/python_sdk/robomaster.html#robomaster.robotic_arm.RoboticArm.sub_position" title="(in RoboMaster Developer Guide v0.1.19)"><code class="docutils literal notranslate"><span class="pre">robomaster.robotic_arm.RoboticArm.sub_position()</span></code></a>
is republished to <a class="reference internal" href="#RoboMasterROS.pub.arm_position" title="RoboMasterROS.pub.arm_position"><em class="xref ros ros-pub">arm_position</em></a>. The accuracy of this estimation depends on the arm calibration
procedure performed in the Robomaster App but not from the calibration parameters passed to ROS (see next point).</p></li>
<li><p>Joint states from <a class="reference external" href="https://robomaster-dev.readthedocs.io/zh_CN/latest/python_sdk/robomaster.html#robomaster.servo.Servo.sub_servo_info" title="(in RoboMaster Developer Guide v0.1.19)"><code class="docutils literal notranslate"><span class="pre">robomaster.servo.Servo.sub_servo_info()</span></code></a>
is republished to <a class="reference internal" href="../robomaster_driver_node.html#RoboMasterROS.pub.joint_states_p" title="RoboMasterROS.pub.joint_states_p"><em class="xref ros ros-pub">joint_states_p</em></a> with the state of three joints using</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rod_joint</span></code> (left motor, using <a class="reference internal" href="#RoboMasterROS.param.arm.left_motor.zero" title="RoboMasterROS.param.arm.left_motor.zero"><em class="xref ros ros-param">arm.left_motor.zero</em></a>,
<a class="reference internal" href="#RoboMasterROS.param.arm.left_motor.angle" title="RoboMasterROS.param.arm.left_motor.angle"><em class="xref ros ros-param">arm.left_motor.angle</em></a>, <a class="reference internal" href="#RoboMasterROS.param.arm.left_motor.direction" title="RoboMasterROS.param.arm.left_motor.direction"><em class="xref ros ros-param">arm.left_motor.direction</em></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arm_1_joint</span></code> (right motor, using <a class="reference internal" href="#RoboMasterROS.param.arm.right_motor.zero" title="RoboMasterROS.param.arm.right_motor.zero"><em class="xref ros ros-param">arm.right_motor.zero</em></a>,
<a class="reference internal" href="#RoboMasterROS.param.arm.right_motor.angle" title="RoboMasterROS.param.arm.right_motor.angle"><em class="xref ros ros-param">arm.right_motor.angle</em></a>, <a class="reference internal" href="#RoboMasterROS.param.arm.right_motor.direction" title="RoboMasterROS.param.arm.right_motor.direction"><em class="xref ros ros-param">arm.right_motor.direction</em></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rod_3_joint</span></code> (one of the passive joint, whose angle is computed from the arm parallel
kinematics as the difference between right and left motor angles</p></li>
</ul>
<p>The other joints in <a class="reference internal" href="../robomaster_description.html#robomaster_description.model.arm.urdf.xacro" title="robomaster_description.model.arm.urdf.xacro"><em class="xref ros ros-model">arm.urdf.xacro</em></a> are dependable of these three and
automatically updated by <em class="xref ros ros-exec">robot_state_publisher</em>.</p>
</li>
</ul>
</section>
<section id="control">
<h2>Control<a class="headerlink" href="#control" title="Permalink to this heading"></a></h2>
<p>The only SKD native way to <em>directly</em> control the arm is through an action <a class="reference internal" href="#RoboMasterROS.act_server.move_arm" title="RoboMasterROS.act_server.move_arm"><em class="xref ros ros-act_server">move_arm</em></a>
to reach a target goal position for the end effector.
Unfortunately, there is no way to configure the target speed during the action
and the robot does not offer end effector velocity control. The only way to move the end effector slowly, is to use a sequence of interpolated
position towards the target (a functionality not exposed by the ROS driver).</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The arm can be <em>indirectly</em> controlled providing target angles or target angular speeds for the two servos.
In fact, there are two mutually exclusive ways to control the arm:
- arm related SDK commands from <a class="reference external" href="https://robomaster-dev.readthedocs.io/zh_CN/latest/python_sdk/robomaster.html#robomaster.robotic_arm.RoboticArm" title="(in RoboMaster Developer Guide v0.1.19)"><code class="docutils literal notranslate"><span class="pre">robomaster.robotic_arm.RoboticArm</span></code></a>
- servo related SDK commands from <a class="reference external" href="https://robomaster-dev.readthedocs.io/zh_CN/latest/python_sdk/robomaster.html#robomaster.servo.Servo" title="(in RoboMaster Developer Guide v0.1.19)"><code class="docutils literal notranslate"><span class="pre">robomaster.servo.Servo</span></code></a>.
Arm commands are enabled if the arm has been configured in the Robomaster App,
else servo commands are enabled.</p>
<p>This fact is reflected in ROS: the ROS control commands described here are only effective
if the arm has been configured.
.. As this information is not available to SDK clients, users are responsible to pick the correct interfaces.</p>
</div>
<p>We also expose an stateless interface to send a relative target point ignoring action feedback
and states using subscription <a class="reference internal" href="#RoboMasterROS.sub.cmd_arm" title="RoboMasterROS.sub.cmd_arm"><em class="xref ros ros-sub">cmd_arm</em></a>.</p>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.arm.enabled">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm.enabled</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">false</span></code><span class="pre">]</span><a class="headerlink" href="#RoboMasterROS.param.arm.enabled" title="Permalink to this definition"></a></dt>
<dd><p>Enables all the ROS interface described here, which by default is disabled, like all other modules.</p>
</dd></dl>

<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.arm.rate">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm.rate</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">10</span></code><span class="pre">]</span><span class="w"> </span><a class="reference external" href="#" title="Dynamic"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sync sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.param.arm.rate" title="Permalink to this definition"></a></dt>
<dd><p>The rate in Hz at which <a class="reference internal" href="#RoboMasterROS.pub.arm_position" title="RoboMasterROS.pub.arm_position"><em class="xref ros ros-pub">arm_position</em></a> and <a class="reference internal" href="../robomaster_driver_node.html#RoboMasterROS.pub.joint_states_p" title="RoboMasterROS.pub.joint_states_p"><em class="xref ros ros-pub">joint_states_p</em></a>
(with arm joints) are published.
One of <code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">20,</span> <span class="pre">50</span></code> (else it will approximate to the nearest value).
A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> will effectively disable updates.</p>
</dd></dl>

<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.arm.right_motor.zero">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm.right_motor.zero</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">1024</span></code><span class="pre">]</span><span class="w"> </span><a class="reference external" href="#" title="Dynamic"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sync sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.param.arm.right_motor.zero" title="Permalink to this definition"></a></dt>
<dd><p>The raw right servo value when the arm is in the zero configuration. 1024 corresponds to 180 degrees.</p>
</dd></dl>

<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.arm.left_motor.zero">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm.left_motor.zero</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">1024</span></code><span class="pre">]</span><span class="w"> </span><a class="reference external" href="#" title="Dynamic"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sync sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.param.arm.left_motor.zero" title="Permalink to this definition"></a></dt>
<dd><p>The raw left servo value when the arm is in the zero configuration. 1024 corresponds to 180 degrees.</p>
</dd></dl>

<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.arm.right_motor.angle">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm.right_motor.angle</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">-0.274016</span></code><span class="pre">]</span><span class="w"> </span><a class="reference external" href="#" title="Dynamic"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sync sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.param.arm.right_motor.angle" title="Permalink to this definition"></a></dt>
<dd><p>The right servo joint (<code class="docutils literal notranslate"><span class="pre">arm_1_joint</span></code>) position when the arm is in the zero configuration.
When zero configuration has the arm fully retracted, it corresponds to the lower limit of <code class="docutils literal notranslate"><span class="pre">arm_1_joint</span></code>.</p>
</dd></dl>

<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.arm.left_motor.angle">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm.left_motor.angle</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">0.073304</span></code><span class="pre">]</span><span class="w"> </span><a class="reference external" href="#" title="Dynamic"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sync sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.param.arm.left_motor.angle" title="Permalink to this definition"></a></dt>
<dd><p>The left servo joint (<code class="docutils literal notranslate"><span class="pre">rod_joint</span></code>) position when the arm is in the zero configuration.</p>
</dd></dl>

<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.arm.right_motor.direction">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm.right_motor.direction</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">-1</span></code><span class="pre">]</span><span class="w"> </span><a class="reference external" href="#" title="Dynamic"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sync sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.param.arm.right_motor.direction" title="Permalink to this definition"></a></dt>
<dd><p>The orientation of the right motor with respect to the joint (<code class="docutils literal notranslate"><span class="pre">arm_1_joint</span></code>).</p>
</dd></dl>

<dl class="ros parameter">
<dt class="sig sig-object ros" id="RoboMasterROS.param.arm.left_motor.direction">
<em class="property"><span class="pre">parameter</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm.left_motor.direction</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="pre">[Default:</span> <code class="docutils literal notranslate"><span class="pre">1</span></code><span class="pre">]</span><span class="w"> </span><a class="reference external" href="#" title="Dynamic"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sync sd-text-primary" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg></a><a class="headerlink" href="#RoboMasterROS.param.arm.left_motor.direction" title="Permalink to this definition"></a></dt>
<dd><p>The orientation of the left motor with respect to the joint (<code class="docutils literal notranslate"><span class="pre">rod_joint</span></code>).</p>
</dd></dl>

</section>
<section id="subscriptions">
<h2>Subscriptions<a class="headerlink" href="#subscriptions" title="Permalink to this heading"></a></h2>
<dl class="ros subscription">
<dt class="sig sig-object ros" id="RoboMasterROS.sub.cmd_arm">
<em class="property"><span class="pre">subscription</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">cmd_arm</span></span><span class="w"> </span><a class="reference external" href="http://docs.ros2.org/galactic/api/geometry_msgs/msg/Vector3.html"><em class="xref ros ros-msg"><span class="pre">geometry_msgs/msg/Vector3</span></em></a><a class="headerlink" href="#RoboMasterROS.sub.cmd_arm" title="Permalink to this definition"></a></dt>
<dd><p>Listen for relative target position commands for <code class="docutils literal notranslate"><span class="pre">end_point_link</span></code> in
<a class="reference internal" href="../robomaster_description.html#robomaster_description.model.arm.urdf.xacro" title="robomaster_description.model.arm.urdf.xacro"><em class="xref ros ros-model">arm.urdf.xacro</em></a>), which are passed to the robot
without using SDK actions. This provides a similar interface to <a class="reference internal" href="#RoboMasterROS.act_server.move_arm" title="RoboMasterROS.act_server.move_arm"><em class="xref ros ros-act_server">move_arm</em></a>
but able to update the target position without having to cancel the action.
You can you this interface to continuously control the end effector cartesian position or velocity.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This interface is experimental. To be safe, use <a class="reference internal" href="#RoboMasterROS.act_server.move_arm" title="RoboMasterROS.act_server.move_arm"><em class="xref ros ros-act_server">move_arm</em></a>.</p>
</div>
</dd></dl>

</section>
<section id="publishers">
<h2>Publishers<a class="headerlink" href="#publishers" title="Permalink to this heading"></a></h2>
<dl class="ros publisher">
<dt class="sig sig-object ros" id="RoboMasterROS.pub.arm_position">
<em class="property"><span class="pre">publisher</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">arm_position</span></span><span class="w"> </span><a class="reference external" href="http://docs.ros2.org/galactic/api/geometry_msgs/msg/PointStamped.html"><em class="xref ros ros-msg"><span class="pre">geometry_msgs/msg/PointStamped</span></em></a><a class="headerlink" href="#RoboMasterROS.pub.arm_position" title="Permalink to this definition"></a></dt>
<dd><p>Publishes the position, estimated onboard, of the arm end effector
(<code class="docutils literal notranslate"><span class="pre">end_point_link</span></code> in <a class="reference internal" href="../robomaster_description.html#robomaster_description.model.arm.urdf.xacro" title="robomaster_description.model.arm.urdf.xacro"><em class="xref ros ros-model">arm.urdf.xacro</em></a>) in the <code class="docutils literal notranslate"><span class="pre">arm_base_link</span></code> frame.
If accuracy is low, redo the arm calibration procedure in Robomaster App.</p>
</dd></dl>

</section>
<section id="action-servers">
<h2>Action Servers<a class="headerlink" href="#action-servers" title="Permalink to this heading"></a></h2>
<dl class="ros action_server">
<dt class="sig sig-object ros" id="RoboMasterROS.act_server.move_arm">
<em class="property"><span class="pre">action</span> <span class="pre">server</span></em><span class="w"> </span><span class="sig-name descname"><span class="pre">move_arm</span></span><span class="w"> </span><a class="reference internal" href="../robomaster_msgs.html#robomaster_msgs.action.MoveArm" title="robomaster_msgs.action.MoveArm"><em class="xref ros ros-action"><span class="pre">robomaster_msgs/action/MoveArm</span></em></a><a class="headerlink" href="#RoboMasterROS.act_server.move_arm" title="Permalink to this definition"></a></dt>
<dd><p>Move the end effector towards a target position, which can be absolute (i.e., with respect to arm base)
or relative (i.e., with respect to the current arm position).
If speed is too high, try interpolating the target position.</p>
<p>The control is performed on-board, most probably using inverse kinematics (i.e., no motion planning seems involved).
Target position may not be reachable by the controller even when feasible. To overcome this limitation,
you may plan a path in cartesian space and then pass waypoints to this action.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>New goals are not accepted if a current goal is active. To change goal, you first need
to <a class="reference external" href="https://docs.ros2.org/latest/api/rclpy/api/actions.html#rclpy.action.client.ClientGoalHandle.cancel_goal_async">cancel</a>
the current goal.</p>
</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../robomaster_driver_node.html" class="btn btn-neutral float-left" title="Robomaster Driver Node" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="armor.html" class="btn btn-neutral float-right" title="Armor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Jérôme Guzzi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>